<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>JS回调测试</title>

		<script type="text/javascript">
			//androidInvoker app里的返回函数
			function loginOk(userId) {
				androidInvoker.loginOk(userId);
				window.location.href="test.html";
			}

			//是否在根页面，如果为true，当点击返回按钮时就会弹出是否退出应用的提示框
			function isTopLevelPage() {
				return false;
			}

			urlinfo=window.location.href; //获取当前页面的url
			len=urlinfo.length;//获取url的长度
			offset=urlinfo.indexOf("?");//设置参数字符串开始的位置
			newsidinfo=urlinfo.substr(offset,len)//取出参数字符串 这里会获得类似“id=1”这样的字符串
			newsids=newsidinfo.split("userId=");//对获得的参数字符串按照“=”进行分割
			newsid=newsids[1];//得到参数值
			if(newsid)
				window.location.href="test.html";
		</script>
	</head>
	<body>
		<table width="100%" height="100" border="0" cellpadding="0" cellspacing="0" bordercolor="F2F2F2" align="center">
			<tr style="border-spacing:10px;">
				<td><input type="button"  value="登陆" onclick="loginOk('111');" style="font-size:22px"/></td>
			</tr>
		</table>
	</body>
</html>